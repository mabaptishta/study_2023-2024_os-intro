---
## Front matter
---
## Front matter
title: "Шаблон отчёта по лабораторной работе №5"
subtitle: "Настройка рабочей среды."


## i18n babel
babel-lang: russian
babel-otherlangs: english

## Formatting pdf
toc: false
toc-title: Содержание
slide_level: 2
aspectratio: 169
section-titles: true
theme: metropolis
header-includes:
 - \metroset{progressbar=frametitle,sectionpage=progressbar,numbering=fraction}
 - '\makeatletter'
 - '\beamer@ignorenonframefalse'
 - '\makeatother'
---

# Информация

## Докладчик

:::::::::::::: {.columns align=center}
::: {.column width="50%"}

  * author: "Баптишта Матеуж Андре"
  * НКА 01-23
  * Факультет физико-математический и естественных наук
  * Российский университет дружбы народов
 
:::
::: {.column width="30%"}
:::
::::::::::::::


# Цель работы

Цель данной работы -- настроика рабочей среды с помощью менеджера паролей pass и конфигурации chezmoi.

## Установка и Настройка Pass

С помощью командой dnf install через суперпользователя устанавливаю pass, pass-otp и gopass:

![Установка pass pass-otp](image/1.PNG){#fig:001 width=50%}

## Установка и Настройка Pass

Создаю новый ключ GPG поскольку команда gpg --list-secret-keys ничего не выводила:

![Создание ключа GPG](image/3.PNG){#fig:003 width=50%}

## Установка и Настройка Pass

![Созданные ключи](image/4.PNG){#fig:004 width=50%}

## Установка и Настройка Pass

С помощью pass init, инициализирую хранилище указывая свой адрес электроной почты и создаю структуру git (pass git init) для синхронирования:

![Инициализирование хранилище](image/5.PNG){#fig:005 width=50%}

## Установка и Настройка Pass

Перехожу в ~/.password-store для посмотра статуса синхронизации:

![посмотр статуса синхронизации](image/6.PNG){#fig:006 width=50%}

## Настройка интерфейса с броузером

Добавляю плагин browserpass для firefox через броузера:

![Добавлен плагин](image/8.PNG){#fig:007 width=50%}

## Настройка интерфейса с броузером

Для взаимодействия с броузером используется интерфейс native messaging. Поэтому кроме плагина к броузеру устанавливается программа, обеспечивающая интерфейс native messaging. Делаю это через терминала

![Включение репозитория Copr](image/9.PNG){#fig:008 width=50%}

## Настройка интерфейса с броузером

![Установка browserpass native](image/10.PNG){#fig:009 width=50%}

## Сохранение пароля

Добавляю новый пароль в файле, который будет использоваться для хранения пароля. Этот файл находится в каталоге, определяющее файловую структуру для вашего хранилища паролей.

![Добавление пароля](image/11.PNG){#fig:0010 width=50%}

## Сохранение пароля

При запуске pass BrowserPass/Passwords.txt, выводится запрос подтвердить созданный пароль:

![Подтверждение созданного пароля](image/12.PNG){#fig:0012 width=50%}

## Сохранение пароля

Заменяю существующий пароль с помощью pass generate --in-place Passwords.txt

![Замена пароля](image/13.PNG){#fig:0013 width=50%}

## Дополнительное программное обеспечение

Устанавливаю дополнительное программное обеспечение:

![Установка дополнительного программного обеспечения](image/14.PNG){#fig:0014 width=50%}

## Дополнительное программное обеспечение

Установливаю шрифты iosevka. Для этого надо включть copr peterwu/iosevka и искать iosevka:

![Включение copr peterwu/iosevka](image/15.PNG){#fig:0015 width=50%}

## Дополнительное программное обеспечение

![Поиск iosevka](image/16.PNG){#fig:0016 width=50%}

## Дополнительное программное обеспечение

![Установка шрифты](image/17.PNG){#fig:0017 width=50%}

## Установка бинарного файла

Скрипт определяет архитектуру процессора и операционную систему и скачивает необходимый файл, поэтому я просто запускаю sh -c "$(wget -qO- chezmoi.io/get)":

![Установка chezmoi](image/18.PNG){#fig:0018 width=50%}

## Создание собственного репозитория

С помощью утилита gh я создаю новый репозиторий dotfiles по шаблону yamadharma

![Создание репозиторий](image/19.PNG){#fig:0019 width=50%}

## Подключение репозитория к своей системе

Сhezmoi является клоном репозитория dotfiles. Инициализирую его:

![Инициализирование Сhezmoi](image/20.PNG){#fig:0020 width=50%}

## Подключение репозитория к своей системе

Проверяю какие изменения внесёт chezmoi в домашний каталог, запуская chezmoi diff:

![Проверка изменений](image/21.PNG){#fig:0021 width=50%}

## Подключение репозитория к своей системе

Применяю изменения запускав chezmoi apply -v:

![Применение изменений](image/22.PNG){#fig:0022 width=50%}

## Использование chezmoi на нескольких машинах

На другой машине я устанавливаю chezmoi

![Установка chezmoi на другой машине](image/23.PNG){#fig:0023 width=50%}

## Использование chezmoi на нескольких машинах

Далее инициализирую chezmoi со своём репозиторием dotfiles:

![Инициализирование Сhezmoi на другой машине](image/24.PNG){#fig:0024 width=50%}

## Использование chezmoi на нескольких машинах

Проверяю какие изменения внесёт chezmoi в домашний каталог, запуская chezmoi diff:

![Проверка изменений на второй машине](image/25.PNG){#fig:0025 width=50%}

## Использование chezmoi на нескольких машинах

Применяю изменения запускав chezmoi apply -v:

![Применение изменений на второй машине](image/26.PNG){#fig:0026 width=50%}

## Использование chezmoi на нескольких машинах

![Обновление chezmoi](image/27.PNG){#fig:0027 width=50%}

## Ежедневные операции c chezmoi

На моей основной машине я обновляю chezmoi на всякий случай:

![Обновление chezmoi](image/28.PNG){#fig:0028 width=50%}

## Ежедневные операции c chezmoi

Выполняю chezmoi git pull -- --autostash --rebase && chezmoi diff. Это запускается git pull --autostash --rebase в исходном каталоге, а chezmoi diff затем показывает разницу между целевым состоянием, вычисленным из исходного каталога, и фактическим состоянием.

![Извлечение изменений](image/29.PNG){#fig:0029 width=50%}

## Ежедневные операции c chezmoi

Далее применяю "изменения":

![Применение изменений после обновления](image/30.PNG){#fig:0030 width=50%}

## Ежедневные операции c chezmoi

Когда в исходный каталог вносятся изменения, chezmoi фиксирует изменения с помощью автоматически сгенерированного сообщения фиксации и отправляет их в репозиторий. Эта функция отключена по умолчанию но у меня уже была включено. Можно это увидеть в файле конфигурации ~/.config/chezmoi/chezmoi.toml:

![Функция фиксирование изменений автоматически](image/31.PNG){#fig:0031 width=50%}
